<template>
  <qas-single-view
    v-model:fields="fields"
    v-model:result="result"
    entity="<%= props.name %>"
  >
    <template #header>
      <%_ if(props.result.form === 'Todos' || props.result.form === 'Editar'){ _%>
      <qas-page-header
        :breadcrumbs="breadcrumbs"
        title="__MUDAR__NOME__"
      >
        <qas-btn
          icon="o_create"
          label="Editar __MUDAR__NOME__"
          padding="md"
          :to="{ name: '<%= props.editName %>', params: { id: result.uuid } }"
          :use-label-on-small-screen="false"
        />
      </qas-page-header>
      <%_ } else { _%>
      <qas-page-header
        title="Lista de __MUDAR__NOME__"
        :breadcrumbs="breadcrumbs"
      />
      <%_ } _%>
    </template>
    <template #default>
      <qas-box>
        <qas-grid-generator
          :fields="fields"
          :result="result"
          :use-empty-result="false"
        />
      </qas-box>
    </template>
  </qas-single-view>
</template>

<script>
export default {
  name: '<%= props.singleName %>',

  data () {
    return {
      fields: {},
      result: {}
    }
  },

  computed: {
    breadcrumbs () {
      return [
        { label: 'Lista de __MUDAR__NOME__', routeName: '<%= props.listName %>' },
        { label: '__MUDAR__NOME__' }
      ]
    }
  }
}
</script>
